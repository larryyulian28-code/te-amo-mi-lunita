<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="viewport"
    content="width=device-width,
    initial-scale=1.0">
    <meta charset="UTF-8">
    <title>Un Universo para Ti</title>
    <style>
    /* Media Query para pantallas m√°s peque√±as (celulares) */
@media (max-width: 500px) {
    
    /* Adaptar la tarjeta de texto */
    .card {
        padding: 20px; /* Margen interno m√°s peque√±o */
        max-width: 90%; /* Ocupa m√°s espacio en el ancho del celular */
        margin: 10px auto;
    }

    /* Ajustar el contenido del universo */
    .universo-content {
        padding: 20px;
        margin-top: 20px;
        max-width: 95%; /* Asegura que el texto y el poema no se salgan */
    }

    /* Asegurar que el planeta y el bot√≥n NO sigan siendo visibles */
    #interactive-planet {
        transform: scale(0.8); /* Opcional: Reduce ligeramente el planeta en pantallas peque√±as */
        width: 120px;
        height: 120px;
    }
    
    /* Mover los controles de m√∫sica un poco para evitar el borde */
    #controles-musica {
        bottom: 10px;
        right: 10px;
        padding: 8px 12px;
    }
}
        /* -------------------------------------------------------------------------- */
        /* ‚ö† ESTILOS DE FONDO (DEBES MODIFICAR ESTAS TRES L√çNEAS)                  */
        /* -------------------------------------------------------------------------- */
        .fondo-propuesta {
            /* 1. Fondo para la pregunta (Noche morada) */
            background-image: url('https://wallpapers.com/images/featured-full/fondods-de-hermosa-noche-i9neq2ed7blcu74r.jpg'); /* <<--- PON TU URL AQU√ç */
            background-size: cover;
            background-position: center;
                    }
        .fondo-confirmacion {
            /* 2. Fondo para la confirmaci√≥n (Noche de Luna Hermosa) */
            background-image: url('https://p1.wallpaperbetter.com/preview/301/76/901/full-moon-landscape-sea-lake.jpg'); /* <<--- PON TU URL AQU√ç */
            background-size: cover;
            background-position: center;
        }
        .fondo-universo {
            /* 3. Fondo para el regalo (Planeta y Universo) */
            background-image: url('https://static.vecteezy.com/system/resources/previews/014/908/632/large_2x/landscape-of-snow-storm-winter-background-at-night-digital-art-design-free-photo.jpg'); /* <<--- PON TU URL AQU√ç */
            background-color: #000022; 
            background-size: cover;
            background-position: center;
        }
        
        /* -------------------------------------------------------------------------- */
        /* ESTILOS GENERALES Y DE POSICI√ìN (NO NECESITAS MODIFICAR ESTO)             */
        /* -------------------------------------------------------------------------- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            margin: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: background 1s ease-in-out; /* Transici√≥n para el fondo */
        }
        .vista-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            padding: 20px;
        }
        .card {
            background-color: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            max-width: 450px;
            margin: 20px;
            z-index: 10;
        }
        h1 { color: #9C27B0; }
        button {
            padding: 12px 25px;
            margin: 10px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            border-radius: 25px;
            font-weight: bold;
        }
        #btn-si { background-color: #4CAF50; color: white; z-index: 100; }
        
        /* Bot√≥n NO m√≥vil */
        #btn-no {
            position: absolute; 
            background-color: #f44336; color: white;
            transition: none; 
            z-index: 9; 
            top: 70%; left: 55%;
        }
        #btn-abrir-regalo { background-color: #9C27B0; color: white; margin-top: 30px; }

        /* Estilos Universo */
        #vista-regalo { color: #E0E0FF; align-items: flex-start; }
        .universo-content { 
            animation: fadeIn 3s ease-in-out;
            padding: 40px;
            max-width: 600px;
            text-shadow: 0 0 5px #000;
            text-align: left;
            margin-top: 50px;
        }
        .universo-content h2 { color: #E0B0FF; text-shadow: 0 0 10px #E0B0FF; }
        .poema { margin-top: 25px; border-left: 3px solid #E0B0FF; padding-left: 15px; font-style: italic; }
        
        /* Planeta Interactivo */
        #interactive-planet {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 150px; 
            height: 150px;
            border-radius: 50%;
            background: url('https://img.freepik.com/psd-premium/luna-llena-muestra-fondo-transparente_410516-197038.jpg');
            background-size: 120%;
            background-position: center;
            background-repeat: no-repeat;
            box-shadow: 0 0 50px rgba(156, 39, 176, 0.7);
            cursor: grab;
            z-index: 1; 
        }

        /* Controles de M√∫sica */
        #controles-musica {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 10px 15px;
            border-radius: 10px;
            z-index: 20;
            color: white;
        }
        #controles-musica button {
            background-color: #E0B0FF;
            color: black;
            padding: 5px 10px;
            font-size: 14px;
            margin: 5px;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>

<body class="fondo-propuesta">
    <audio id="audio-si" src="tu_musica_si.mp3" preload="auto"></audio>
    <audio id="audio-regalo" src="Eres t√∫.mp3" preload="auto" loop></audio> 

    <div id="vista-propuesta" class="vista-container">
        <div class="card">
            <h1 id="titulo-propuesta">¬°Mi amor! Tengo una pregunta crucial para ti...</h1>
            <p id="parrafo-propuesta">Desde el d√≠a que te conoc√≠, mi vida tiene un brillo √∫nico. ¬øMe dar√≠as el honor de ser mi novia?</p>
            
            <div id="opciones-propuesta">
                <button id="btn-si" onclick="responder(true)">üíú ¬°S√≠! üíú</button>
            </div>

            <p id="mensaje-final" style="margin-top: 20px; font-weight: bold;"></p>

            <button id="btn-abrir-regalo" onclick="abrirRegalo()" style="display: none;">
                ‚ú® Abrir Regalo Especial ‚ú®
            </button>
        </div>

        <button id="btn-no">No</button>
    </div>

    <div id="vista-regalo" class="vista-container" style="display: none;">
        <div class="universo-content">
            <h2>¬°Un Universo Solo para Ti, Mi Lunita!</h2>
            
            <p class="intro-universo">Este universo es una peque√±a muestra de todo el amor y la magia que siento cuando estoy contigo. Eres mi estrella m√°s brillante y mi raz√≥n de ser.</p>

            <div class="poema">
                <p>Oh, luna que me miras en las noches,</p>
                <p>Dile a mi amor que es la luz de mis derroches.</p>
                <p>Un planeta de ternura, un cielo de pasi√≥n,</p>
                <p>Ella es la √≥rbita perfecta de mi coraz√≥n.</p>
            </div>
            
            <div class="palabras-bonitas">
                <p>üí´ Nuestras Galaxias: Contigo, mi amor, cada momento es una galaxia por explorar. Eres la due√±a del cometa que cruza mis sue√±os.</p>
                <p>‚ú® Mi Constelaci√≥n: Eres la constelaci√≥n m√°s hermosa que ilumina mi existencia, mi mayor y m√°s incre√≠ble casualidad.</p>
                <p>üíú Mi Amor Infinito: Te amo por tu dulzura, por tu fuerza, y por la magia que le pones a mi vida. Te adoro. üíú</p>
            </div>

        </div>
        
        <div id="interactive-planet"></div>
    </div>

    <div id="controles-musica" style="display: none;">
        <p style="margin: 0; font-weight: bold;">M√∫sica: Eres tu</p>
        <button onclick="controlarMusica('play')">‚ñ∂ Reproducir</button>
        <button onclick="controlarMusica('pause')">‚è∏ Pausar</button>
    </div>

    <script>
        // --- 1. REFERENCIAS DE ELEMENTOS ---
        const audioSi = document.getElementById('audio-si');
        const audioRegalo = document.getElementById('audio-regalo');
        const cuerpo = document.body;
        const propuestaDiv = document.getElementById('vista-propuesta');
        const regaloDiv = document.getElementById('vista-regalo');
        const mensajeFinal = document.getElementById('mensaje-final');
        const btnAbrirRegalo = document.getElementById('btn-abrir-regalo');
        const btnNo = document.getElementById('btn-no');
        const tituloPropuesta = document.getElementById('titulo-propuesta');
        const parrafoPropuesta = document.getElementById('parrafo-propuesta');
        const opcionesPropuesta = document.getElementById('opciones-propuesta');
        const planet = document.getElementById('interactive-planet');
        const controlesMusica = document.getElementById('controles-musica');
        
        let isDragging = false;
        let startX, startY, initialX, initialY;

        // --- 2. FUNCIONALIDAD DEL BOT√ìN 'NO' (Se Mueve) ---
        function moverBotonNo() {
            const newX = Math.random() * (window.innerWidth - btnNo.offsetWidth * 2);
            const newY = Math.random() * (window.innerHeight - btnNo.offsetHeight * 2);
            btnNo.style.left = newX + 'px';
            btnNo.style.top = newY + 'px';
        }
        btnNo.onmouseover = moverBotonNo;

        // --- 3. RESPONDER A LA PROPUESTA ---
        function responder(acepta) {
            audioRegalo.pause();

            if (acepta) {
                // Cambiar el fondo a la escena de la luna de confirmaci√≥n
                cuerpo.classList.remove('fondo-propuesta');
                cuerpo.classList.add('fondo-confirmacion');
                
                // Ocultar pregunta y bot√≥n 'S√≠'
                tituloPropuesta.style.display = 'none';
                parrafoPropuesta.style.display = 'none';
                opcionesPropuesta.style.display = 'none';
                btnNo.style.display = 'none';
                
                // Mostrar el mensaje de confirmaci√≥n
                mensajeFinal.textContent = "¬°Sab√≠a que ibas a decir que s√≠ mi lunita hermosa! üíú";
                mensajeFinal.style.color = '#9C27B0';
                mensajeFinal.style.fontSize = '1.5em';
                
                // Mostrar el bot√≥n de regalo
                btnAbrirRegalo.style.display = 'inline-block';

                audioSi.play().catch(error => { console.error("Error audioSi:", error); });

            } else {
                mensajeFinal.textContent = "¬°Int√©ntalo de nuevo! Solo existe una respuesta correcta. üòâ";
                mensajeFinal.style.color = '#f44336';
            }
        }

        // --- 4. ABRIR EL UNIVERSO/REGALO ---
        function abrirRegalo() {
            // Cambiar el fondo al universo
            cuerpo.classList.remove('fondo-confirmacion');
            cuerpo.classList.add('fondo-universo');

            // Ocultar la vista de propuesta y mostrar la de regalo
            propuestaDiv.style.display = 'none';
            regaloDiv.style.display = 'flex';
            controlesMusica.style.display = 'block';

            // Inicializar el movimiento interactivo del planeta
            initPlanetMovement();

            // Reproducir la canci√≥n Eres tu
            controlarMusica('play'); 
        }

        // --- 5. CONTROLES DE M√öSICA PERSONALIZADOS ---
        function controlarMusica(accion) {
            if (accion === 'play') {
                audioRegalo.play().catch(error => { 
                    console.error("El navegador bloque√≥ la reproducci√≥n autom√°tica.", error);
                    alert("Por favor, presiona 'Reproducir' para iniciar la m√∫sica del universo.");
                });
            } else if (accion === 'pause') {
                audioRegalo.pause();
            }
        }

        // --- 6. MOVIMIENTO INTERACTIVO DEL PLANETA ---
        function setPlanetPosition(x, y) {
            planet.style.left = x + 'px';
            planet.style.top = y + 'px';
        }

        function initPlanetMovement() {
            // 6.1. EVENTOS DE MOUSE/TOUCH (Arrastrar)
            planet.addEventListener('mousedown', startDrag);
            planet.addEventListener('touchstart', startDrag);

            function startDrag(e) {
                e.preventDefault();
                isDragging = true;
                const clientX = e.clientX || e.touches[0].clientX;
                const clientY = e.clientY || e.touches[0].clientY;
                
                initialX = planet.offsetLeft;
                initialY = planet.offsetTop;
                startX = clientX;
                startY = clientY;
                planet.style.cursor = 'grabbing';
            }

            document.addEventListener('mousemove', drag);
            document.addEventListener('touchmove', drag);

            function drag(e) {
                if (!isDragging) return;
                e.preventDefault();
                const clientX = e.clientX || e.touches[0].clientX;
                const clientY = e.clientY || e.touches[0].clientY;

                const dx = clientX - startX;
                const dy = clientY - startY;

                setPlanetPosition(initialX + dx, initialY + dy);
            }

            document.addEventListener('mouseup', stopDrag);
            document.addEventListener('touchend', stopDrag);

            function stopDrag() {
                isDragging = false;
                planet.style.cursor = 'grab';
            }

            // 6.2. EVENTOS DE TECLADO (Flechas)
            document.addEventListener('keydown', (e) => {
                if (regaloDiv.style.display !== 'flex') return; 

                const step = 20; 
                let newX = planet.offsetLeft;
                let newY = planet.offsetTop;

                switch (e.key) {
                    case 'ArrowUp': newY -= step; break;
                    case 'ArrowDown': newY += step; break;
                    case 'ArrowLeft': newX -= step; break;
                    case 'ArrowRight': newX += step; break;
                    default: return; 
                }
                
                e.preventDefault();
                setPlanetPosition(newX, newY);
            });
        }
    </script>
</body>
</html>